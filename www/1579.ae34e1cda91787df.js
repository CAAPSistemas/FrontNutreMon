"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1579],{1579:(M,p,i)=>{i.r(p),i.d(p,{LoginPageModule:()=>b});var f=i(6814),s=i(95),g=i(7027),d=i(3541),m=i(5861),n=i(6689),h=i(5853);const _=[{path:"",component:(()=>{var t;class l{constructor(o,e,r,a){this.alertController=o,this.router=e,this.menu=r,this.dataService=a,this.email="",this.password="",this.menu.enable(!1)}goToRegister(){this.router.navigate(["/register"])}login(o){var e=this;return(0,m.Z)(function*(){if(e.email.trim()&&e.password.trim())if(e.email.endsWith("@utm.edu.ec"))try{const r=yield e.dataService.login(e.email,e.password);if(!r.success)return void e.presentAlert("Error",r.message);r.usuario?(localStorage.setItem("session",r.usuario.usuarioid.toString()),e.router.navigateByUrl("/inicio")):e.presentAlert("Error","No se pudo obtener la informaci\xf3n del usuario.")}catch(r){let a="Ocurri\xf3 un error desconocido";r instanceof Error&&(a=r.message),e.presentAlert("Error",a)}else e.presentAlert("Error","Estimado usuario, usted est\xe1 tratando de acceder al sistema con una direcci\xf3n de correo inv\xe1lida, solo se aceptan correos terminados en @utm.edu.ec, revise sus datos de acceso");else e.presentAlert("Campos Obligatorios","Por favor, complete todos los campos obligatorios.")})()}presentAlert(o,e){var r=this;return(0,m.Z)(function*(){yield(yield r.alertController.create({header:o,message:e,buttons:["OK"]})).present()})()}}return(t=l).\u0275fac=function(o){return new(o||t)(n.Y36(g.Br),n.Y36(d.F0),n.Y36(g._q),n.Y36(h.D))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:43,vars:2,consts:[["color","greem",1,"ion-align-items-center"],[1,"welcome-image"],["src","assets/images/Nutre-Mon.png","alt","Nutre Mon Logo"],[1,"container"],[1,"login-form",3,"ngSubmit"],["form","ngForm"],["text-center",""],["padding",""],["name","email","type","email","placeholder","Ingresa tu correo electr\xf3nico","required","",3,"ngModel","ngModelChange"],["name","password","type","password","placeholder","Ingresa tu contrase\xf1a","minlength","8","required","",3,"ngModel","ngModelChange"],["padding","",1,"button-container"],["expand","full","type","submit",1,"login-button"],["expand","full",1,"create-account-button",3,"click"]],template:function(o,e){if(1&o){const r=n.EpF();n.TgZ(0,"ion-content",0),n._uU(1,"\n  "),n.TgZ(2,"div",1),n._uU(3,"\n    "),n._UZ(4,"img",2),n._uU(5,"\n  "),n.qZA(),n._uU(6,"\n  "),n.TgZ(7,"div",3),n._uU(8,"\n    "),n.TgZ(9,"form",4,5),n.NdJ("ngSubmit",function(){n.CHM(r);const u=n.MAs(10);return n.KtG(e.login(u))}),n._uU(11,"\n      "),n.TgZ(12,"div",6),n._uU(13,"\n        "),n.TgZ(14,"h3"),n._uU(15,"Bienvenido"),n.qZA(),n._uU(16,"\n      "),n.qZA(),n._uU(17,"\n      "),n.TgZ(18,"div",7),n._uU(19,"\n        "),n.TgZ(20,"ion-item"),n._uU(21,"\n          "),n.TgZ(22,"ion-input",8),n.NdJ("ngModelChange",function(u){return e.email=u}),n.qZA(),n._uU(23,"\n        "),n.qZA(),n._uU(24,"\n        "),n.TgZ(25,"ion-item"),n._uU(26,"\n          "),n.TgZ(27,"ion-input",9),n.NdJ("ngModelChange",function(u){return e.password=u}),n.qZA(),n._uU(28,"\n        "),n.qZA(),n._uU(29,"\n      "),n.qZA(),n._uU(30,"\n      "),n.TgZ(31,"div",10),n._uU(32,"\n        "),n.TgZ(33,"ion-button",11),n._uU(34,"\n          Iniciar Sesi\xf3n\n        "),n.qZA(),n._uU(35,"\n        "),n.TgZ(36,"ion-button",12),n.NdJ("click",function(){return e.goToRegister()}),n._uU(37,"\n          Registrarse\n        "),n.qZA(),n._uU(38,"\n      "),n.qZA(),n._uU(39,"\n    "),n.qZA(),n._uU(40,"\n  "),n.qZA(),n._uU(41,"\n"),n.qZA(),n._uU(42,"\n")}2&o&&(n.xp6(22),n.Q6J("ngModel",e.email),n.xp6(5),n.Q6J("ngModel",e.password))},dependencies:[s._Y,s.JJ,s.JL,s.Q7,s.wO,s.On,s.F,g.YG,g.W2,g.pK,g.Ie,g.j9],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to right, #0072C6, #fff, #52C41A);display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:440px;max-height:70%;background-color:transparent;border-radius:40px;padding:70px;box-shadow:0 4px 8px #0003}.welcome-image[_ngcontent-%COMP%]{background-color:transparent;text-align:center;margin-top:10px}.welcome-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;background-color:transparent}h3[_ngcontent-%COMP%]{color:#000;text-align:center;margin-top:10px;margin-bottom:20px}ion-item[_ngcontent-%COMP%]{--background: transparent;margin-bottom:20px}ion-label[_ngcontent-%COMP%]{--color: #000}ion-input[_ngcontent-%COMP%]{--color: #000;background-color:transparent;--padding-bottom: 10px;border:none;border-bottom:none;max-width:100%}.login-button[_ngcontent-%COMP%], .google-login[_ngcontent-%COMP%]{--color: #fff;--border-radius: 5px;--padding-start: 5px;--padding-end: 5px;font-size:12px;display:flex;justify-content:center;align-items:center;height:25px}.login-button[_ngcontent-%COMP%]{--background: red}.google-login[_ngcontent-%COMP%]{--background: green}.create-account-button[_ngcontent-%COMP%]{--background: rgb(9, 42, 231);--color: #fff;--border-radius: 5px;--padding-start: 5px;--padding-end: 5px;font-size:12px;display:flex;justify-content:center;align-items:center;height:25px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;position:fixed;bottom:5%;left:50%;transform:translate(-50%)}']}),l})()}];let x=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.Bz.forChild(_),d.Bz]}),l})(),b=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[f.ez,s.u5,g.Pc,x]}),l})()}}]);