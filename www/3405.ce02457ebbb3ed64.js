"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3405],{3405:(_,m,o)=>{o.r(m),o.d(m,{RegisterPageModule:()=>A});var h=o(6814),l=o(95),r=o(7027),d=o(3541),U=o(5861),e=o(6689),f=o(9862),Z=o(5853);const v=[{path:"",component:(()=>{var n;class s{constructor(t,i,a,u,g){this.router=t,this.menu=i,this.httpClient=a,this.DataService=u,this.alertController=g,this.name="",this.email="",this.password="",this.confirm="",this.menu.enable(!1)}ngOnInit(){}register(t){const i=t.controls.password.value,a=t.controls.confirm.value;/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,15}[^'\s]/.test(t.controls.password.value)?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.controls.email.value)?t.controls.email.value.endsWith("@utm.edu.ec")?t.valid&&i===a?this.httpClient.post("http://localhost:8080/api/register",{name:t.controls.name.value,email:t.controls.email.value,password:t.controls.password.value}).subscribe(p=>{console.log("Respuesta del servidor:",p),localStorage.setItem("authToken","response.token"),this.router.navigate(["/login"])},p=>{console.error("Error en la solicitud HTTP:",p)}):i!==a?this.presentAlert("Error","Las contrase\xf1as no coinciden."):this.presentAlert("Por favor","completa todos los campos requeridos."):this.presentAlert("Error","Solo se aceptan correos de @utm.edu.ec"):this.presentAlert("Error","Escriba una direcci\xf3n de correo v\xe1lida "):this.presentAlert("Error","La contrase\xf1a debe de tener al menos 8 caracteres, una letra may\xfascula, una letra min\xfascula, un caracter especial y un n\xfamero")}presentAlert(t,i){var a=this;return(0,U.Z)(function*(){yield(yield a.alertController.create({header:t,message:i,buttons:["OK"]})).present()})()}generateUniqueToken(){return`token_${(new Date).getTime()}`}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(r._q),e.Y36(f.eN),e.Y36(Z.D),e.Y36(r.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:57,vars:1,consts:[[1,"ion-padding"],[1,"welcome-image"],["src","assets/images/Nutre-Mon.png","alt","Nutre Mon Logo"],[1,"form-container",3,"ngSubmit"],["form","ngForm"],["color","primary","justify-content-center",""],["align-self-center","","size-md","6","size-lg","5","size-xs","12"],["text-center",""],["name","name","type","text","placeholder","Nombre","ngModel","","required",""],["name","email","type","email","placeholder","Correo electr\xf3nico","ngModel","","required",""],["name","password","type","password","placeholder","Contrase\xf1a","ngModel","","required",""],["name","confirm","type","password","placeholder","Confirmar contrase\xf1a","ngModel","","required",""],["padding",""],["size","small","type","submit",3,"disabled"]],template:function(t,i){if(1&t){const a=e.EpF();e._uU(0,"\n"),e.TgZ(1,"ion-content",0),e._uU(2,"\n  "),e.TgZ(3,"div",1),e._uU(4,"\n    "),e._UZ(5,"img",2),e._uU(6,"\n  "),e.qZA(),e._uU(7,"\n  "),e.TgZ(8,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const g=e.MAs(9);return e.KtG(i.register(g))}),e._uU(10,"\n    "),e.TgZ(11,"ion-grid"),e._uU(12,"\n      "),e.TgZ(13,"ion-row",5),e._uU(14,"\n        "),e.TgZ(15,"ion-col",6),e._uU(16,"\n          "),e.TgZ(17,"div",7),e._uU(18,"\n            "),e.TgZ(19,"h3"),e._uU(20,"CREAR CUENTA"),e.qZA(),e._uU(21,"\n          "),e.qZA(),e._uU(22,"\n          "),e.TgZ(23,"div"),e._uU(24,"\n            "),e.TgZ(25,"ion-item"),e._uU(26,"\n              "),e._UZ(27,"ion-input",8),e._uU(28,"\n            "),e.qZA(),e._uU(29,"\n            "),e.TgZ(30,"ion-item"),e._uU(31,"\n              "),e._UZ(32,"ion-input",9),e._uU(33,"\n            "),e.qZA(),e._uU(34,"\n            "),e.TgZ(35,"ion-item"),e._uU(36,"\n              "),e._UZ(37,"ion-input",10),e._uU(38,"\n            "),e.qZA(),e._uU(39,"\n            "),e.TgZ(40,"ion-item"),e._uU(41,"\n              "),e._UZ(42,"ion-input",11),e._uU(43,"\n            "),e.qZA(),e._uU(44,"\n          "),e.qZA(),e._uU(45,"\n          "),e.TgZ(46,"div",12),e._uU(47,"\n            "),e.TgZ(48,"ion-button",13),e._uU(49,"Crear cuenta"),e.qZA(),e._uU(50,"\n          "),e.qZA(),e._uU(51,"\n        "),e.qZA(),e._uU(52,"\n      "),e.qZA(),e._uU(53,"\n    "),e.qZA(),e._uU(54,"\n  "),e.qZA(),e._uU(55,"\n"),e.qZA(),e._uU(56,"\n")}if(2&t){const a=e.MAs(9);e.xp6(48),e.Q6J("disabled",a.invalid)}},dependencies:[l._Y,l.JJ,l.JL,l.Q7,l.On,l.F,r.YG,r.wI,r.W2,r.jY,r.pK,r.Ie,r.Nd,r.j9],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to right, #0072C6, #fff, #52C41A);display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;overflow-y:none}.form-container[_ngcontent-%COMP%]{max-width:500px;width:90%;background-color:transparent;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0000001a}.welcome-image[_ngcontent-%COMP%]{text-align:center;margin-top:5px;margin-bottom:10px}.welcome-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;background-color:transparent;margin-bottom:-75px}h3[_ngcontent-%COMP%]{color:#000;text-align:center;margin-top:20px;margin-bottom:10px}ion-item[_ngcontent-%COMP%]{--background: transparent;margin-bottom:10px}ion-input[_ngcontent-%COMP%]{--color: #000;background-color:transparent;border:none;border-bottom:1px solid rgba(0,0,0,.2)}ion-button[_ngcontent-%COMP%]{--background: red;--color: #fff;--border-radius: 5px;--padding-start: 15px;--padding-end: 15px;width:100%;font-size:16px;display:flex;justify-content:center;align-items:center;margin-top:20px}']}),s})()}];let x=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(v),d.Bz]}),s})(),A=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,l.u5,r.Pc,x]}),s})()}}]);