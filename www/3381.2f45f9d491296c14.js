"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3381],{3381:(M,f,c)=>{c.r(f),c.d(f,{ConsultasPageModule:()=>q});var _=c(6814),U=c(95),i=c(7027),g=c(3541),v=c(5861),d=function(a){return a.aum="aument\xf3",a.dism="disminuy\xf3",a.notc="sin cambios",a}(d||{}),p=function(a){return a.success="success",a.danger="danger",a.primary="primary",a}(p||{});const Z=[{llave:"peso",adv:"del",name:"Peso",um:"kg"},{llave:"talla",adv:"de la",name:"Talla",um:"cm"},{llave:"triceps",adv:"del",name:"Triceps",um:"mm"},{llave:"biceps",adv:"del",name:"Biceps",um:"mm"},{llave:"subescapular",adv:"de la",name:"Subescapular ",um:"mm"},{llave:"crestailiaca",adv:"de la",name:"Cresta il\xedaca",um:"mm"},{llave:"supraespinale",adv:"de la",name:"Supraespinate",um:"mm"},{llave:"abdominal",adv:"del",name:"Abdominal",um:"mm"},{llave:"muslofrontal",adv:"del",name:"Muslo frotal",um:"mm"},{llave:"brazorelajado",adv:"de",name:"Brazo relajado",um:"mm"},{llave:"muneca",adv:"de",name:"Mu\xf1eca",um:"mm"},{llave:"cintura",adv:"de",name:"Cintura",um:"mm"},{llave:"muslomedial",adv:"de",name:"Musculo medial",um:"mm"},{llave:"cadera",adv:"de",name:"Cadera",um:"mm"},{llave:"pantorrillamedial",adv:"de",name:"Pantorrill medial",um:"mm"},{llave:"perimetromuneca",adv:"de",name:"Per\xedmetro de la mu\xf1eca",um:"mm"}];var n=c(6689),h=c(5853);function b(a,l){1&a&&(n.TgZ(0,"p",11),n._uU(1,"El paciente seleccionado no tiene consultas asociadas,puede agregar consultas al paciente haciendo click sobre el bot\xf3n adicionar en la parte inferior derecha \n              "),n._UZ(2,"ion-icon",12),n._uU(3," \n\n  "),n.qZA())}function T(a,l){if(1&a){const t=n.EpF();n.TgZ(0,"ion-item",13),n.NdJ("click",function(){const s=n.CHM(t).$implicit,u=n.oxw();return n.KtG(u.goToConsult(s))}),n._uU(1,"\n        "),n.TgZ(2,"ion-label"),n._uU(3),n.qZA(),n._uU(4,"\n        "),n.TgZ(5,"ion-label"),n._uU(6),n.qZA(),n._uU(7,"        \n    "),n.qZA()}if(2&a){const t=l.$implicit,e=l.index;n.xp6(3),n.Oqu(e+1),n.xp6(3),n.hij("Fecha: ",t.fechamedicion,"")}}function A(a,l){1&a&&(n.TgZ(0,"ion-text",14),n._uU(1,"\n      "),n.TgZ(2,"h3"),n._uU(3,"Comparaci\xf3n con la \xfaltima consulta"),n.qZA(),n._uU(4,"\n  "),n.qZA())}function C(a,l){if(1&a&&(n.TgZ(0,"ion-row",19),n._uU(1,"\n      "),n.TgZ(2,"ion-col",17),n._uU(3,"\n        "),n.TgZ(4,"ion-label"),n._uU(5),n.qZA(),n._uU(6,"\n      "),n.qZA(),n._uU(7,"\n      "),n.TgZ(8,"ion-col",17),n._uU(9,"\n        "),n.TgZ(10,"ion-label"),n._uU(11),n.qZA(),n._uU(12,"\n      "),n.qZA(),n._uU(13,"\n      "),n.TgZ(14,"ion-col",17),n._uU(15,"\n        "),n.TgZ(16,"ion-label"),n._uU(17),n.qZA(),n._uU(18,"\n      "),n.qZA(),n._uU(19,"\n      "),n.TgZ(20,"ion-col",17),n._uU(21,"\n        "),n.TgZ(22,"ion-label"),n._uU(23),n.qZA(),n._uU(24,"\n      "),n.qZA(),n._uU(25,"  \n  "),n.qZA()),2&a){const t=l.$implicit;n.xp6(5),n.Oqu(t.llave),n.xp6(6),n.Oqu(t.valorAnt),n.xp6(6),n.Oqu(t.valorAct),n.xp6(6),n.Oqu(t.valor)}}function x(a,l){if(1&a&&(n.TgZ(0,"ion-list",15),n._uU(1,"\n    "),n.TgZ(2,"ion-row",16),n._uU(3,"\n      "),n.TgZ(4,"ion-col",17),n._uU(5,"\n        "),n.TgZ(6,"ion-label"),n._uU(7,"Indicador"),n.qZA(),n._uU(8,"\n      "),n.qZA(),n._uU(9,"\n      "),n.TgZ(10,"ion-col",17),n._uU(11,"\n        "),n.TgZ(12,"ion-label"),n._uU(13,"Valor \xfaltima consulta"),n.qZA(),n._uU(14,"\n      "),n.qZA(),n._uU(15,"\n      "),n.TgZ(16,"ion-col",17),n._uU(17,"\n        "),n.TgZ(18,"ion-label"),n._uU(19,"Valor actual"),n.qZA(),n._uU(20,"\n      "),n.qZA(),n._uU(21,"\n      "),n.TgZ(22,"ion-col",17),n._uU(23,"\n        "),n.TgZ(24,"ion-label"),n._uU(25,"Diferencia"),n.qZA(),n._uU(26,"\n      "),n.qZA(),n._uU(27,"              \n  "),n.qZA(),n._uU(28,"\n  "),n.YNc(29,C,26,4,"ion-row",18),n._uU(30,"\n   "),n.qZA()),2&a){const t=n.oxw();n.xp6(29),n.Q6J("ngForOf",t.comportamiento)}}const y=[{path:"",component:(()=>{var a;class l{constructor(e,o,s){this.route=e,this.dataService=o,this.router=s,this.consultas=[],this.id=0,this.enumEstadoComparacion=d,this.comportamiento=[]}ngOnInit(){var o,e=this;this.route.params.subscribe(function(s){return(o=o||(0,v.Z)(function*(u){e.id=u.id,localStorage.removeItem("pacienteId"+e.id),e.consultas=yield e.dataService.getConsultationByPatient(e.id),e.consultas=e.consultas.map(r=>({...r,fechamedicion:r.fechamedicion.substring(0,10)})),e.consultas.length>1&&e.doComparison()})).apply(this,arguments)})}doComparison(){let e=this.consultas.length;this.comportamiento=Z.map(o=>{let{um:s}=o;const u=Number(this.consultas[e-1][o.llave]),r=Number(this.consultas[e-2][o.llave]);let m=u-r;return 1===Math.sign(m)?{llave:o.name,valorAnt:r,valorAct:u,nombre:d.aum,color:p.danger,valor:Math.abs(m),um:s}:-1===Math.sign(m)?{llave:o.name,valorAnt:r,valorAct:u,nombre:d.dism,color:p.success,valor:Math.abs(m),um:s}:{llave:o.name,valorAnt:r,valorAct:u,nombre:d.notc,color:p.primary,valor:Math.abs(m),um:s}})}goToConsult(e){var o=this;return(0,v.Z)(function*(){localStorage.setItem("pacienteId"+o.id,JSON.stringify(o.consultas)),o.router.navigate(["show-consulta/"+o.id,{idconsulta:e.medicionid}])})()}addConsult(){var e=this;return(0,v.Z)(function*(){if(console.log(e.consultas),0==e.consultas.length){const s=(yield e.dataService.getPacientes()).find(u=>u.id==e.id);return localStorage.setItem("pacienteId"+e.id,JSON.stringify({nombre:s.nombre,apellidos:s.apellidos,cedula:s.cedula,edad:s.edad,sexo:s.sexo})),console.log(s),void e.router.navigate(["consulta/"+e.id])}localStorage.setItem("pacienteId"+e.id,JSON.stringify({nombre:e.consultas[0].nombre,apellidos:e.consultas[0].apellidos,cedula:e.consultas[0].cedula,edad:e.consultas[0].edad,sexo:e.consultas[0].sexo})),e.router.navigate(["consulta/"+e.id])})()}}return(a=l).\u0275fac=function(e){return new(e||a)(n.Y36(g.gz),n.Y36(h.D),n.Y36(g.F0))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-consultas"]],decls:34,vars:6,consts:[[3,"translucent"],[1,"ion-text-center"],["slot","start"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"],[3,"fullscreen"],["style","padding: 20px;margin-top: 15px;",4,"ngIf"],["class","list-items",3,"click",4,"ngFor","ngForOf"],["style","display: flex; justify-content: center;","color","secondary",4,"ngIf"],["class","comparation-items",4,"ngIf"],[2,"padding","20px","margin-top","15px"],["name","arrow-down-outline","size","medium","color","primary"],[1,"list-items",3,"click"],["color","secondary",2,"display","flex","justify-content","center"],[1,"comparation-items"],[1,"header-table"],["col-4",""],["class","body-table",4,"ngFor","ngForOf"],[1,"body-table"]],template:function(e,o){1&e&&(n.TgZ(0,"ion-header",0),n._uU(1,"\n  "),n.TgZ(2,"ion-toolbar"),n._uU(3,"\n    "),n.TgZ(4,"ion-title",1),n._uU(5,"Consultas"),n.qZA(),n._uU(6,"\n    "),n._UZ(7,"ion-menu-button",2),n._uU(8,"\n  "),n.qZA(),n._uU(9,"\n"),n.qZA(),n._uU(10,"\n"),n._uU(11,"\n"),n.TgZ(12,"ion-fab",3),n._uU(13,"\n  "),n.TgZ(14,"ion-fab-button",4),n.NdJ("click",function(){return o.addConsult()}),n._uU(15,"\n    "),n._UZ(16,"ion-icon",5),n._uU(17,"\n  "),n.qZA(),n._uU(18,"\n"),n.qZA(),n._uU(19,"\n\n"),n.TgZ(20,"ion-content",6),n._uU(21,"\n  "),n.YNc(22,b,4,0,"p",7),n._uU(23,"   \n\n  "),n.TgZ(24,"ion-list"),n._uU(25,"\n    "),n.YNc(26,T,8,2,"ion-item",8),n._uU(27,"\n  "),n.qZA(),n._uU(28,"  \n  "),n.YNc(29,A,5,0,"ion-text",9),n._uU(30,"  \n  "),n.YNc(31,x,31,1,"ion-list",10),n._uU(32,"\n"),n.qZA(),n._uU(33,"\n")),2&e&&(n.Q6J("translucent",!0),n.xp6(20),n.Q6J("fullscreen",!0),n.xp6(2),n.Q6J("ngIf",o.consultas.length<1),n.xp6(4),n.Q6J("ngForOf",o.consultas),n.xp6(3),n.Q6J("ngIf",o.consultas.length>1),n.xp6(2),n.Q6J("ngIf",o.consultas.length>1))},dependencies:[_.sg,_.O5,i.wI,i.W2,i.IJ,i.W4,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.fG,i.Nd,i.yW,i.wd,i.sr],styles:[".result-comparation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;padding:10px;width:100%}.comparation-items[_ngcontent-%COMP%]{padding:20px;width:100%}.header-table[_ngcontent-%COMP%]{background-color:#d3d3d3;border:groove}.header-table[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border-right:groove}.header-table[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child{border-right:none}.body-table[_ngcontent-%COMP%]{background-color:#ece5e546;border-bottom:groove;border-right:groove;border-left:groove}"]}),l})()}];let P=(()=>{var a;class l{}return(a=l).\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[g.Bz.forChild(y),g.Bz]}),l})(),q=(()=>{var a;class l{}return(a=l).\u0275fac=function(e){return new(e||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[_.ez,U.u5,i.Pc,P]}),l})()}}]);